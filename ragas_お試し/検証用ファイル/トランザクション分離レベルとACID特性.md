---
doc-id: "db-transaction-acid-011"
title: "トランザクション分離レベルとACID特性"
tags: ["データベース", "トランザクション", "ACID", "並行処理"]
versions: "1.0"
---
# トランザクション分離レベルとACID特性
このドキュメントは、データベース管理システム (DBMS) におけるトランザクション処理の基本概念、ACID特性と分離レベルについて説明します。

---
## 1. ACID特性
トランザクション処理の信頼性を保証するための4つの主要な特性です。

| 特性 | 英語名 | 目的 |
|---|---|---|
| **原子性** | **A**tomicity | トランザクション内の処理が**すべて実行されるか、全く実行されない**か（All or Nothing）を保証する。 |
| **一貫性** | **C**onsistency | トランザクションが完了したとき、データが**整合性の取れた状態**を維持することを保証する。 |
| **独立性** | **I**solation | 複数のトランザクションが同時に実行されても、それぞれが**排他的に実行されている**かのように見えることを保証する。 |
| **永続性** | **D**urability | トランザクションがコミットされたら、システム障害が発生してもその変更が**失われない**ことを保証する。 |

---
## 2. トランザクション分離レベル
独立性（Isolation）をどの程度まで保証するかを定義するレベルです。保証レベルが低いほど、並行処理性能は向上しますが、意図しない問題（ファントムリードなど）が発生するリスクが高まります。

### ✅ 意図しない読み込みの問題
| 現象 | 説明 |
|---|---|
| **ダーティリード** (Dirty Read) | 未コミットの変更を他のトランザクションが読み込む。 |
| **ノンリピータブルリード** (Non-repeatable Read) | 同じトランザクション内で同じ行を2回読み込んだとき、2回目の値が他のトランザクションによって変更されている。 |
| **ファントムリード** (Phantom Read) | 同じトランザクション内で同じ検索条件でクエリを実行したとき、他のトランザクションによって新しい行が追加・削除され、結果の**行数が変化**する。 |

---
## 3. 標準的な分離レベル (SQL-92)
主要なDBMSで一般的に使用される4つの分離レベルです。

| 分離レベル | ダーティリード | ノンリピータブルリード | ファントムリード |
|---|---|---|---|
| **Read Uncommitted** | 発生する | 発生する | 発生する |
| **Read Committed** | **防止** | 発生する | 発生する |
| **Repeatable Read** | **防止** | **防止** | 発生する (一部DBMSでは防止) |
| **Serializable** | **防止** | **防止** | **防止** |